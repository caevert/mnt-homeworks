"use strict";(function(){var M=Math.floor;function a(a){return Object.prototype.toString.call(a)}function b(){if(R=arguments[0],S=2===arguments.length?null:arguments[1],T=2===arguments.length?arguments[1]:arguments[2],T&&T.sendDataLayer&&(_=!0),T&&T.initApiCall&&B("pageview",null,null,null,null,T.data),T&&T.trackClose&&w(),T&&T.trackDuration){var b=T.trackDuration,c=[5,15,30,45,60];"[object Array]"===a(b)&&(c=b),x(c)}if(T&&T.trackScroll){var b=T.trackScroll,c={positions:[10,25,50,75,100],deviation:3};"[object Object]"===a(b)&&(c=b),y(c)}if(T&&T.trackOver){var d=[{name:"mouseenter",handler:k}];z(T.trackOver,d)}if(T&&T.trackClick){var d=[{name:"mousedown",handler:l}];z(T.trackClick,d)}if(T&&T.trackSwipe){var d=[{name:"touchstart",handler:t},{name:"touchmove",handler:u}];z(T.trackSwipe,d)}if(T&&T.trackTyping){var d=[{name:"keyup",handler:v}];z(T.trackTyping,d)}}function c(){if(!W)V=document.referrer;else{var a=document.location.href;a!==W&&(V=W)}return W=document.location.href,encodeURI(V)}function d(a){N=a}function e(){return N}function f(a,b,c){var d=g(a),e=h(d,b,c);0<e&&e!==fa&&(fa=e,A("scroll",e))}function g(a){var b=document.body.offsetHeight,c=window.innerHeight,d=a/(b-c);return Math.round(100*d)}function h(a,b,c){for(var d,e=0;e<b.length;e++)if(d=b[e],a>=d-c&&a<=d+c)return d;return-1}function i(a,b){try{ha=window.scrollY,ia||(window.requestAnimationFrame(function(){try{f(ha,a,b),ia=!1}catch(a){console.log(a)}}),ia=!0)}catch(a){console.log(a)}}function j(a){ja||(ja=!0,a.preventDefault(),A("close"))}function k(a){m("over",a.target)}function l(a){m("click",a.currentTarget)}function m(a,b,c){try{var d=Object.assign({},b.dataset),e=b.className,f=b.tagName.toLowerCase(),g=b.value||null;A(a,null,c,null,{tag:f,class:e,data:d,value:g})}catch(a){console.log(a)}}function n(a){if("[object Array]"===Object.prototype.toString.call(a)){var b=[];return a.forEach(function(a){b.includes(a)||b.push(a)}),b}return[]}function o(a){if("[object Array]"===Object.prototype.toString.call(a)){var b=[];return a.forEach(function(a){if("*"!==a){var c=document.querySelectorAll(a);c.forEach(function(a){b.push(a)})}}),b}return[]}function p(a,b){try{if("[object Text]"!==Object.prototype.toString.call(a)){var c=Element.prototype,d=c.matches||c.matchesSelector||c.webkitMatchesSelector||c.mozMatchesSelector||c.msMatchesSelector||c.oMatchesSelector;return a.matches=d,a.matches(b)}}catch(a){return!1}return!1}function q(a,b){var c={childList:!0,subtree:!0,attributes:!1,characterData:!1},d=new MutationObserver(function(c,d){r(c,a,b)});d.observe(document,c)}function r(b,c,d){try{b&&0<b.length&&b.forEach(function(b){"childList"===b.type&&b.addedNodes&&0<b.addedNodes.length&&b.addedNodes.forEach(function(b){c&&"[object Text]"!==a(b)&&"[object Comment]"!==a(b)&&c.forEach(function(a){d.forEach(function(c){if(p(b,a))d.forEach(function(a){b.removeEventListener(a.name,a.handler),b.addEventListener(a.name,a.handler)});else try{var e=b.querySelectorAll(a);e&&e.forEach(function(a){a.addEventListener(c.name,c.handler)})}catch(a){console.log(a)}})})})})}catch(a){console.log(a)}}function s(a){return a.touches||a.originalEvent.touches}function t(a){try{var b=s(a)[0];ka=b.clientX,la=b.clientY}catch(a){console.log(a)}}function u(a){var b=Math.abs;try{if(!ka||!la)return;var c=a.touches[0].clientX,d=a.touches[0].clientY,e=ka-c,f=la-d;b(e)>b(f)?0<e?m("swipe",a.currentTarget,"left"):m("swipe",a.currentTarget,"right"):0<f,ka=null,la=null}catch(a){console.log(a)}}function v(a){0<ma&&clearTimeout(ma),ma=setTimeout(function(){m("type",a.target)},1e3)}function w(){window.addEventListener("beforeunload",j),window.addEventListener("unload",j)}function x(a){a&&"[object Array]"===Object.prototype.toString.call(a)&&a.forEach(function(a){setTimeout(function(){A("duration",a)},1e3*a)})}function y(a){"[object Object]"===Object.prototype.toString.call(a)&&"[object Array]"===Object.prototype.toString.call(a.positions)&&"[object Number]"===Object.prototype.toString.call(a.deviation)&&window.addEventListener("scroll",function(b){i(a.positions,a.deviation)})}function z(a,b){try{if("[object Array]"===Object.prototype.toString.call(a)){var c=n(a),d=o(c);d&&d.forEach(function(a){b.forEach(function(b){a.addEventListener(b.name,b.handler,!1)})}),q(c,b)}}catch(a){console.log(a)}}function A(a,b,c,d,e){B("event",a,b,c,d,e)}function B(a,b,e,f,g,h){var i={};i.userId=N||window.$tmt_user_id,i.pageviewId=U,i.type=a,i.userTs=new Date().getTime(),i.tz="undefined"==typeof Intl?"N/A":Intl.DateTimeFormat().resolvedOptions().timeZone,i.url=document.documentURI,i.referrer=c(),i.pageTitle=document.title,i.br_w=screen.width,i.br_h=screen.height,i.w_w=window.innerWidth,i.w_h=window.innerHeight,i.uid_ga=P||I("_ga"),i.uid_gid=Q||I("_gid"),i.uid_ym=O||I("_ym_uid"),i.ver=D(),i.staticParams=C(),i.eventType=b?b:void 0,i.eventValue=e?e:void 0,i.eventLabel=f?f:void 0,i.eventCategory=g?g:void 0,i.eventData=h,_&&!!window.dataLayer&&(i.dataLayer=E(window.dataLayer));var d=new XMLHttpRequest;d.onreadystatechange=function(){try{if(4===d.readyState)if(200===d.status||400===d.status)try{H(JSON.parse(d.responseText))}catch(a){console.error(a)}else if(403===d.status)try{var a=JSON.parse(d.responseText);console.error("Status: "+a.status)}catch(a){console.error(a)}}catch(a){console.error(a)}},d.timeout=6e4,d.withCredentials=!0,d.open("POST",G(),!0),d.setRequestHeader("Content-Type","text/plain;charset=UTF-8");try{d.send(JSON.stringify(i))}catch(a){console.error("Error: "+a)}}function C(){return Y}function D(){try{return"v4"}catch(a){return"not set"}}function E(b){if("[object Object]"===a(b)||"[object Array]"===a(b))for(var c in b)b[c]=E(b[c]);else"function"!=typeof b&&(b=b);return b}function F(){try{return M(1e9*Math.random())+""}catch(a){return new Date().getTime()+""}}function G(){var a=ca.concat("/tr/wt").concat("?cid=").concat(R).concat("&orig=").concat(decodeURI(document.location.origin)).concat("&sidl=").concat(Z).concat("&sidu=").concat(aa).concat("&guid=").concat(ba).concat("&ns=").concat(F());return $&&($=!1,a=a.concat("&sl=").concat("1")),S&&(a=a.concat("&tid=").concat(S)),a}function H(a){if(a)if(a.status&&"Bad Request"===a.status)console.log("TM: "+a.status);else if(a.list&&navigator.cookieEnabled){if(a.uid)try{localStorage.setItem("_tm_uid",a.uid)}catch(a){console.error(a)}if(a.guid)try{localStorage.setItem("_tm_guid",a.guid)}catch(a){console.error(a)}if("function"==typeof X){var b={};a.guid&&Object.assign(b,{guid:a.guid}),X(b)}a.list.forEach(function(a){!a.update||("_tm_lt_sid"===a.name&&(Z=a.value),J(a.name,a.value,a.age,a.domain,a.sameSite))})}}function I(a){var b="; "+document.cookie,c=b.split("; "+a+"=");if(2===c.length)return c[1].split(";")[0]}function J(a,b,c,d,e){var f="";if(c){var g=new Date;g.setTime(g.getTime()+1e3*c),f="; expires="+g.toUTCString()}var h;!e||(h="; SameSite=None; Secure"),document.cookie=a+"="+(b||"")+f+"; path=/; Domain="+d+(h||"")}function K(){var a=new Date().getTime()+"."+M(1e6*Math.random());return a}function L(){return U}var N,O,P,Q,R,S,T,U,V,W;U=function a(){var b=new Date().getTime(),c="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var c=0|(b+16*Math.random())%16;return b=M(b/16),("x"===a?c:8|3&c).toString(16)});return c}();var X,Y;try{localStorage.setItem("_tm_pvid",U)}catch(a){console.error(a)}var Z=I("_tm_lt_sid"),$=!1,_=!1;Z||(Z=K(),$=!0);var aa=null;try{aa=navigator.cookieEnabled?localStorage.getItem("_tm_uid"):null}catch(a){console.error(a)}aa||(aa=K());var ba=null;try{ba=navigator.cookieEnabled?localStorage.getItem("_tm_guid"):null}catch(a){console.error(a)}ba||(ba=K());var ca="https://api.topmind.io",da={init:b,setUserId:d,getUserId:e,setGa:function a(b){P=b},setGid:function a(b){Q=b},setYm:function a(b){O=b},setTrackerHost:function a(b){ca=b},send:A,pageview:function a(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:null;null==b?B("pageview"):B("pageview",null,null,null,null,b)},getCookie:I,setCookie:J,getUID:function a(){try{return navigator.cookieEnabled?localStorage.getItem("_tm_guid"):null}catch(a){console.error(a)}return"no uid"},getPageviewId:L,callback:function a(b){X=b},setStaticParams:function a(b){Y=b}},ea=function a(){var b=[].slice.call(arguments);return da[b.shift()].apply(null,b)};window.$tmt&&window.$tmt.q.forEach(function(b){return ea.apply(null,b)}),window.$tmt=ea;var fa=-1,ha=0,ia=!1,ja=!1,ka=null,la=null,ma=-1})();
